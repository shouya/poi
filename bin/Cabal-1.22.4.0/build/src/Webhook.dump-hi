
==================== FINAL INTERFACE ====================
2015-11-17 09:54:49.620239 UTC

interface poi_CIO5lZRGiFRJqrUdRLTgoa:Webhook 7102
  interface hash: af82b0119d35561b9ca3ba10893b062e
  ABI hash: 60915a97fbec49150c7925cc2cefee60
  export-list hash: d3e2d7a3d80a964c8cbf885e8f3d9dc7
  orphan hash: 693e9af84d3dfcc71e640e005bdc5e2e
  flag hash: 1177ed9910be22cb08b17094c1021b20
  sig of: Nothing
  used TH splices: False
  where
exports:
  Webhook.startWebhook
module dependencies: Deploy
package dependencies: array-0.5.1.0@array_E0sTtauuKsGDLZoT7lTbgZ
                      async-2.0.2@async_J3wPtBMkDlC1zlPIsbgEk9 base-4.8.1.0
                      binary-0.7.5.0@binar_IvYoLp9H6Xy3zEH13MmZwd
                      bytestring-0.10.6.0@bytes_6elQVSg5cWdFrvRnfxTUrH
                      containers-0.5.6.2@conta_LKCPrTJwOTOLk4OU37YmeN
                      deepseq-1.4.1.1@deeps_LbCWUlehDDeLxurARKDH5o
                      directory-1.2.2.0@direc_KowvXytSqazBcvN7MGpFtg
                      exceptions-0.8.0.2@excep_8GsEeHgaIks3pVGk6GaELJ
                      filepath-1.4.0.0@filep_KsGE6pHE5eZHSN90ZVax6A ghc-prim-0.4.0.0
                      integer-gmp-1.0.0.0
                      monad-control-1.0.0.4@monad_3XCDr1mqlERGZgaxuwJF6b
                      mtl-2.2.1@mtl_KMpng31YRYc5JfMWFZ3FCU
                      network-2.6.2.1@netwo_F6mK9sCIw3M5SbZMt2lUQE
                      process-1.2.3.0@proce_FLTz0SLwyG6LJUpZ52HjkU
                      shelly-1.6.4@shell_BvjswJnFlO979SAYXfCXJV
                      stm-2.4.4@stm_C1kFMnPqFjvDhFjgMZGUpr
                      system-filepath-0.4.13.4@syste_2SzVkwMcB0z2zba4qxCrKf
                      system-fileio-0.3.16.3@syste_CHtYiGUR3pL90kk42zWp3i
                      text-1.2.1.3@text_1l1AN4I48k37RaQ6fm6CEh
                      time-1.5.0.1@time_AXTdBF9VRQoBOqJT6qtmVH
                      transformers-0.4.2.0@trans_3eG64VdP2vzGjP6wJiCp5X
                      transformers-base-0.4.4@trans_88TAFm21vtn2NrYUppy50c
                      unix-2.7.1.0@unix_A3WgcI5QiHK4PDo4jSYdwQ
                      unix-compat-0.4.1.4@unixc_DeAF5HEzYMu4CPLnbGbHUz
orphans: base-4.8.1.0:GHC.Base base-4.8.1.0:GHC.Float
         binary-0.7.5.0@binar_IvYoLp9H6Xy3zEH13MmZwd:Data.Binary.Generic
         bytestring-0.10.6.0@bytes_6elQVSg5cWdFrvRnfxTUrH:Data.ByteString.Builder
         network-2.6.2.1@netwo_F6mK9sCIw3M5SbZMt2lUQE:Network.Socket
         network-2.6.2.1@netwo_F6mK9sCIw3M5SbZMt2lUQE:Network.Socket.Types
         stm-2.4.4@stm_C1kFMnPqFjvDhFjgMZGUpr:Control.Monad.STM
         system-filepath-0.4.13.4@syste_2SzVkwMcB0z2zba4qxCrKf:Filesystem.Path
         system-filepath-0.4.13.4@syste_2SzVkwMcB0z2zba4qxCrKf:Filesystem.Path.CurrentOS
         text-1.2.1.3@text_1l1AN4I48k37RaQ6fm6CEh:Data.Text
         text-1.2.1.3@text_1l1AN4I48k37RaQ6fm6CEh:Data.Text.Show
         time-1.5.0.1@time_AXTdBF9VRQoBOqJT6qtmVH:Data.Time.Calendar.Gregorian
         time-1.5.0.1@time_AXTdBF9VRQoBOqJT6qtmVH:Data.Time.Format.Parse
         time-1.5.0.1@time_AXTdBF9VRQoBOqJT6qtmVH:Data.Time.LocalTime.LocalTime
         transformers-0.4.2.0@trans_3eG64VdP2vzGjP6wJiCp5X:Control.Monad.Trans.Error
family instance modules: base-4.8.1.0:Control.Applicative
                         base-4.8.1.0:Data.Either base-4.8.1.0:Data.Functor.Identity
                         base-4.8.1.0:Data.Monoid base-4.8.1.0:Data.Type.Equality
                         base-4.8.1.0:Data.Void base-4.8.1.0:GHC.Exts
                         base-4.8.1.0:GHC.Generics
                         containers-0.5.6.2@conta_LKCPrTJwOTOLk4OU37YmeN:Data.IntMap.Base
                         containers-0.5.6.2@conta_LKCPrTJwOTOLk4OU37YmeN:Data.IntSet.Base
                         containers-0.5.6.2@conta_LKCPrTJwOTOLk4OU37YmeN:Data.Map.Base
                         containers-0.5.6.2@conta_LKCPrTJwOTOLk4OU37YmeN:Data.Sequence
                         containers-0.5.6.2@conta_LKCPrTJwOTOLk4OU37YmeN:Data.Set.Base
                         monad-control-1.0.0.4@monad_3XCDr1mqlERGZgaxuwJF6b:Control.Monad.Trans.Control
                         shelly-1.6.4@shell_BvjswJnFlO979SAYXfCXJV:Shelly.Base
                         text-1.2.1.3@text_1l1AN4I48k37RaQ6fm6CEh:Data.Text
import  -/  base-4.8.1.0:Control.Concurrent eedef4ce4eb0a2874a44a6b90863cce8
import  -/  base-4.8.1.0:GHC.Conc.Sync 9e3836b2f1d1d028a49b374ef552faad
import  -/  base-4.8.1.0:Prelude 518f762991bc287d78f21a73c974da1f
import  -/  bytestring-0.10.6.0@bytes_6elQVSg5cWdFrvRnfxTUrH:Data.ByteString.Char8 727f18c1a10ff91ccff6cf752ee2a230
import  -/  ghc-prim-0.4.0.0:GHC.Types 6b27fb3fdbd0e3f0925a4496c66513bb
import  -/  network-2.6.2.1@netwo_F6mK9sCIw3M5SbZMt2lUQE:Network c36d616c1d3090911e343e6b027584d5
import  -/  network-2.6.2.1@netwo_F6mK9sCIw3M5SbZMt2lUQE:Network.Socket e3a0d0de7e1edfdda157779d1bac350c
import  -/  network-2.6.2.1@netwo_F6mK9sCIw3M5SbZMt2lUQE:Network.Socket.ByteString 2bb891968c72e4c02b3f200d387bf040
import  -/  network-2.6.2.1@netwo_F6mK9sCIw3M5SbZMt2lUQE:Network.Socket.Internal ee2eda9cd564684c756e324953ba2378
import  -/  Deploy ec88b2f7d89cc105f7b98020dc0f4472
  exports: da0a64997f362fa0f15fcc0b48566c74
  DeployLock 573be18e9a7ee653daed596a74a9d852
  DeployProc 96ce8f62f46edecbd5996249b9126c61
0f80125a27cc691ca59c752cf8193463
  startWebhook ::
    Deploy.DeployLock -> Deploy.DeployProc -> GHC.Types.IO ()
  {- Arity: 3, Strictness: <L,U><L,C(C1(U))><L,U>,
     Unfolding: InlineRule (0, True, True)
                Webhook.startWebhook1
                  `cast`
                (<Deploy.DeployLock>_R
                 ->_R <Deploy.DeployProc>_R
                 ->_R Sym (GHC.Types.NTCo:IO[0] <()>_R)) -}
9a070d251fb19cd256b45c2ea4f56883
  startWebhook1 ::
    Deploy.DeployLock
    -> Deploy.DeployProc
    -> GHC.Prim.State# GHC.Prim.RealWorld
    -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
  {- Arity: 3, Strictness: <L,U><L,C(C1(U))><L,U>,
     Unfolding: (\ lock :: Deploy.DeployLock
                   deploy :: Deploy.DeployProc
                   eta :: GHC.Prim.State# GHC.Prim.RealWorld[OneShot] ->
                 case Network.listenOn1
                        Webhook.startWebhook3
                        eta of ds1 { (#,#) ipv ipv1 ->
                 case ipv1 of ww { Network.Socket.Types.MkSocket ww1 ww2 ww3 ww4 ww5 ->
                 case ww5 of ww6 { GHC.MVar.MVar ww7 ->
                 let {
                   lvl :: GHC.Prim.State# GHC.Prim.RealWorld
                          -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
                     {- Arity: 1 -}
                   = \ eta1 :: GHC.Prim.State# GHC.Prim.RealWorld[OneShot] ->
                     GHC.Prim.catch#
                       @ ()
                       @ GHC.Exception.SomeException
                       (deploy lock) `cast` (GHC.Types.NTCo:IO[0] <()>_R)
                       GHC.Conc.Sync.childHandler1
                       eta1
                 } in
                 letrec {
                   $wa :: forall b.
                          Foreign.C.Types.CInt
                          -> Network.Socket.Types.Family
                          -> Network.Socket.Types.SocketType
                          -> Network.Socket.Types.ProtocolNumber
                          -> GHC.Prim.MVar#
                               GHC.Prim.RealWorld Network.Socket.Types.SocketStatus
                          -> GHC.Prim.State# GHC.Prim.RealWorld
                          -> (# GHC.Prim.State# GHC.Prim.RealWorld, b #)
                     {- Arity: 6, Strictness: <L,U(U)><L,U><L,U><L,U(U)><L,U><L,U>,
                        Inline: [0] -}
                   = \ @ b
                       ww8 :: Foreign.C.Types.CInt
                       ww9 :: Network.Socket.Types.Family
                       ww10 :: Network.Socket.Types.SocketType
                       ww11 :: Network.Socket.Types.ProtocolNumber
                       ww12 :: GHC.Prim.MVar#
                                 GHC.Prim.RealWorld Network.Socket.Types.SocketStatus
                       w :: GHC.Prim.State# GHC.Prim.RealWorld[OneShot] ->
                     case Network.Socket.$wa2
                            ww8
                            ww9
                            ww10
                            ww11
                            ww12
                            w of ds2 { (#,#) ipv2 ipv3 ->
                     case ipv3 of wild { (,) conn ds ->
                     case GHC.Prim.fork#
                            @ (GHC.Types.IO ())
                            (\ eta1 :: GHC.Prim.State# GHC.Prim.RealWorld[OneShot] ->
                             GHC.Prim.catch#
                               @ ()
                               @ GHC.Exception.SomeException
                               (\ s :: GHC.Prim.State# GHC.Prim.RealWorld[OneShot] ->
                                case GHC.Prim.fork#
                                       @ (GHC.Types.IO ())
                                       lvl `cast` (Sym (GHC.Types.NTCo:IO[0] <()>_R))
                                       s of ds3 { (#,#) ipv4 ipv5 ->
                                case conn of ww13 { Network.Socket.Types.MkSocket ww14 ww15 ww16 ww17 ww18 ->
                                case Webhook.startWebhook2 of ww19 { Data.ByteString.Internal.PS ww20 ww21 ww22 ww23 ->
                                case Network.Socket.ByteString.$wa3
                                       ww14
                                       ww20
                                       ww21
                                       ww22
                                       ww23
                                       ipv4 of ds4 { (#,#) ipv6 ipv7 ->
                                Network.Socket.$wa4 ww14 ww18 ipv6 } } } })
                               GHC.Conc.Sync.childHandler1
                               eta1)
                              `cast`
                            (Sym (GHC.Types.NTCo:IO[0] <()>_R))
                            ipv2 of ds3 { (#,#) ipv4 ipv5 ->
                     $wa @ b ww8 ww9 ww10 ww11 ww12 ipv4 } } }
                 } in
                 $wa @ () ww1 ww2 ww3 ww4 ww7 ipv } } }) -}
463af62133882e7db7217fd75360691f
  startWebhook2 :: Data.ByteString.Internal.ByteString
  {- Unfolding: (case GHC.Prim.newMutVar#
                        @ GHC.ForeignPtr.Finalizers
                        @ GHC.Prim.RealWorld
                        GHC.ForeignPtr.NoFinalizers
                        GHC.Prim.realWorld# of ds1 { (#,#) ipv ipv1 ->
                 let {
                   s :: GHC.Prim.Addr#
                   = "HTTP/1.0 200 OK\r\n\
                     \Content-Length: 3\r\n\
                     \\r\n\
                     \poi\r\n"#
                 } in
                 case {__pkg_ccall bytestring-0.10.6.0@bytes_6elQVSg5cWdFrvRnfxTUrH strlen GHC.Prim.Addr#
                                                                                           -> GHC.Prim.State#
                                                                                                GHC.Prim.RealWorld
                                                                                           -> (# GHC.Prim.State#
                                                                                                   GHC.Prim.RealWorld,
                                                                                                 GHC.Prim.Word# #)}
                        s
                        ipv of wild { (#,#) ds3 ds4 ->
                 Data.ByteString.Internal.PS
                   s
                   (GHC.ForeignPtr.PlainForeignPtr ipv1)
                   0
                   (GHC.Prim.word2Int# ds4) } }) -}
28fa8d51115c032da3c02598e8bbd5c4
  startWebhook3 :: Network.PortID
  {- Strictness: m2,
     Unfolding: (Network.PortNumber Webhook.startWebhook4) -}
8b70d008fe4274f4a576e09b44d7346a
  startWebhook4 :: Network.Socket.Types.PortNumber
  {- Unfolding: (case {__pkg_ccall network-2.6.2.1@netwo_F6mK9sCIw3M5SbZMt2lUQE htons GHC.Prim.Word#
                                                                                      -> GHC.Prim.State#
                                                                                           GHC.Prim.RealWorld
                                                                                      -> (# GHC.Prim.State#
                                                                                              GHC.Prim.RealWorld,
                                                                                            GHC.Prim.Word# #)}
                        __word 8000
                        GHC.Prim.realWorld# of wild1 { (#,#) ds ds1 ->
                 (GHC.Word.W16# (GHC.Prim.narrow16Word# ds1))
                   `cast`
                 (Sym (Network.Socket.Types.NTCo:PortNumber[0])) }) -}
vectorised variables:
vectorised tycons:
vectorised reused tycons:
parallel variables:
parallel tycons:
trusted: none
require own pkg trusted: False

